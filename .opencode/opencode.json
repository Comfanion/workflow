{
  "$schema": "https://opencode.ai/config.json",
  "plugin": ["@comfanion/usethis_todo","@comfanion/usethis_compaction","@comfanion/usethis_search","@comfanion/usethis_version_check","@tarquinen/opencode-dcp"],

  "instructions": [
    "AGENTS.md",
    ".opencode/FLOW.yaml",
    ".opencode/config.yaml"
  ],
  
  "agent": {
    "build": {
      "mode": "primary",
      "description": "Default development agent - use @pm, @architect, @analyst, @dev for specialized tasks"
    },
    "plan": {
      "mode": "primary",
      "description": "Planning agent - analyzes requests and delegates to specialized agents: @pm for stories/epics/PRD, @architect for architecture/ADRs, @analyst for requirements, @dev for implementation"
    }
  },
  
  "tools": {
    "lsp": true
  },
  
  "permission": {
    "lsp": "allow",
    "bash": {
      "*": "allow",
      "rm -rf *": "deny",
      "git push --force*": "ask",
      "git reset --hard*": "ask"
    }
  }
}
